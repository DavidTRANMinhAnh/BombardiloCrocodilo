[gd_scene load_steps=21 format=3 uid="uid://q18xf3w5fxgl"]

[ext_resource type="MeshLibrary" uid="uid://damivmutr0rev" path="res://blocks.tres" id="1_ig7tw"]
[ext_resource type="PackedScene" uid="uid://7eq8ohp0tfp2" path="res://player.tscn" id="2_0xm2m"]
[ext_resource type="PackedScene" uid="uid://dev82t38ybfds" path="res://enemy.tscn" id="3_h2yge"]
[ext_resource type="PackedScene" uid="uid://c368hkuu3sos2" path="res://hud.tscn" id="4_1bvp3"]
[ext_resource type="PackedScene" uid="uid://lutep6i2rwpu" path="res://portal.tscn" id="5_lquwl"]
[ext_resource type="Script" uid="uid://cbylaguws1w15" path="res://camera_3d.gd" id="6_7mycd"]
[ext_resource type="PackedScene" uid="uid://ba48nd3ymq8mr" path="res://assets/bg/Grass_2.gltf" id="7_kek77"]
[ext_resource type="PackedScene" uid="uid://ctpet77jdn2rh" path="res://assets/bg/Rock_1.gltf" id="8_4c57u"]
[ext_resource type="PackedScene" uid="uid://btycyvm1p2cd7" path="res://assets/bg/Tree.gltf" id="9_efxa6"]
[ext_resource type="PackedScene" uid="uid://d008ccnecgo5v" path="res://assets/bg/Fruit.gltf" id="10_efxa6"]
[ext_resource type="Script" uid="uid://csx65hnl5ix1w" path="res://path_follow_3d.gd" id="11_dg77c"]
[ext_resource type="PackedScene" uid="uid://8jx28tawqghe" path="res://assets/GermanShepherd.gltf" id="11_efxa6"]
[ext_resource type="PackedScene" uid="uid://bel1xoc76xhi1" path="res://assets/bg/fisherman_fishing/scene.gltf" id="13_ycdy4"]
[ext_resource type="Script" uid="uid://3dbqnj3505c1" path="res://assets/bg/fisherman_fishing/scene.gd" id="14_w48qg"]

[sub_resource type="Curve3D" id="Curve3D_dg77c"]
closed = true
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 2.6356418, 0, -2.946487, 0, 0, 0, 0, 0, 0, -2.0505307, 0, -1.2108693, 0, 0, 0, 0, 0, 0, -1.5876973, 0, 1.2768512, 0, 0, 0, 0, 0, 0, -2.3976529, 0, 3.7645712, 0, 0, 0, 0, 0, 0, -2.3976529, 0, 5.6158977, 0, 0, 0, 0, 0, 0, -1.1827214, 0, 8.277179, 0, 0, 0, 0, 0, 0, -1.067014, 0, 9.318549, 0, 0, 0, 0, 0, 0, -2.3976529, 0, 11.227731, 0, 0, 0, 0, 0, 0, -2.5712178, 0, 13.252618, 0, 0, 0, 0, 0, 0, -2.6290715, 0, 15.219653, 0, 0, 0, 0, 0, 0, -0.6620343, 0, 16.145317, 0, 0, 0, 0, 0, 0, 2.809199, 0, 15.740338, 0, 0, 0, 0, 0, 0, 4.8340864, 0, 15.335361, 0, 0, 0, 0, 0, 0, 5.644042, 0, 15.451068, 0, 0, 0, 0, 0, 0, 7.2061033, 0, 15.393214, 0, 0, 0, 0, 0, 0, 9.057429, 0, 15.335361, 0, 0, 0, 0, 0, 0, 13.743598, 0, 15.219653, 0, 0, 0, 0, 0, 0, 14.842822, 0, 14.004719, 0, 0, 0, 0, 0, 0, 13.685744, 0, 12.037685, 0, 0, 0, 0, 0, 0, 14.727115, 0, 10.707044, 0, 0, 0, 0, 0, 0, 14.784968, 0, 8.16147, 0, 0, 0, 0, 0, 0, 13.570037, 0, 6.7729764, 0, 0, 0, 0, 0, 0, 13.570037, 0, 4.5745263, 0, 0, 0, 0, 0, 0, 13.570037, 0, 3.0124698, 0, 0, 0, 0, 0, 0, 13.4235935, 0, -2.9078367, 0, 0, 0, 0, 0, 0, 11.552517, 0, -3.8433743, 0, 0, 0, 0, 0, 0, 8.40571, 0, -4.9064846, 0, 0, 0, 0, 0, 0, 5.429001, 0, -5.0765815),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 28

[sub_resource type="Shader" id="Shader_dg77c"]
code = "// NOTE: Shader automatically converted from Godot Engine 4.5.1.stable's StandardMaterial3D.

shader_type spatial;
render_mode blend_mix, depth_draw_always, cull_back, diffuse_burley, specular_schlick_ggx;

uniform vec4 albedo : source_color;
uniform sampler2D texture_albedo : source_color, filter_linear_mipmap, repeat_enable;
uniform ivec2 albedo_texture_size;
uniform float point_size : hint_range(0.1, 128.0, 0.1);

uniform float roughness : hint_range(0.0, 1.0);
uniform sampler2D texture_metallic : hint_default_white, filter_linear_mipmap, repeat_enable;
uniform vec4 metallic_texture_channel;
uniform sampler2D texture_roughness : hint_roughness_r, filter_linear_mipmap, repeat_enable;

uniform float specular : hint_range(0.0, 1.0, 0.01);
uniform float metallic : hint_range(0.0, 1.0, 0.01);

uniform sampler2D texture_refraction : filter_linear_mipmap, repeat_enable;
uniform float refraction : hint_range(-1.0, 1.0, 0.001);
uniform vec4 refraction_texture_channel;
uniform sampler2D screen_texture : hint_screen_texture, repeat_disable, filter_linear_mipmap;
uniform sampler2D depth_texture : hint_depth_texture, repeat_disable, filter_nearest;

uniform sampler2D texture_normal : hint_roughness_normal, filter_linear_mipmap, repeat_enable;
uniform float normal_scale : hint_range(-16.0, 16.0);
varying vec3 uv1_triplanar_pos;

uniform float uv1_blend_sharpness : hint_range(0.0, 150.0, 0.001);
varying vec3 uv1_power_normal;

uniform vec3 uv1_scale;
uniform vec3 uv1_offset;
uniform vec3 uv2_scale;
uniform vec3 uv2_offset;

void vertex() {
	vec3 normal = MODEL_NORMAL_MATRIX * NORMAL;

	TANGENT = vec3(0.0, 0.0, -1.0) * abs(normal.x);
	TANGENT += vec3(1.0, 0.0, 0.0) * abs(normal.y);
	TANGENT += vec3(1.0, 0.0, 0.0) * abs(normal.z);
	TANGENT = inverse(MODEL_NORMAL_MATRIX) * normalize(TANGENT);

	BINORMAL = vec3(0.0, 1.0, 0.0) * abs(normal.x);
	BINORMAL += vec3(0.0, 0.0, -1.0) * abs(normal.y);
	BINORMAL += vec3(0.0, 1.0, 0.0) * abs(normal.z);
	BINORMAL = inverse(MODEL_NORMAL_MATRIX) * normalize(BINORMAL);

	// UV1 Triplanar: Enabled (with World Triplanar)
	uv1_power_normal = pow(abs(normal), vec3(uv1_blend_sharpness));
	uv1_triplanar_pos = (MODEL_MATRIX * vec4(VERTEX, 1.0)).xyz * uv1_scale + uv1_offset + TIME * 0.01;
	uv1_power_normal /= dot(uv1_power_normal, vec3(1.0));
	uv1_triplanar_pos *= vec3(1.0, -1.0, 1.0);
}

vec4 triplanar_texture(sampler2D p_sampler, vec3 p_weights, vec3 p_triplanar_pos) {
	vec4 samp = vec4(0.0);
	samp += texture(p_sampler, p_triplanar_pos.xy) * p_weights.z;
	samp += texture(p_sampler, p_triplanar_pos.xz) * p_weights.y;
	samp += texture(p_sampler, p_triplanar_pos.zy * vec2(-1.0, 1.0)) * p_weights.x;
	return samp;
}

void fragment() {
	vec4 albedo_tex = triplanar_texture(texture_albedo, uv1_power_normal, uv1_triplanar_pos);
	ALBEDO = albedo.rgb * albedo_tex.rgb;

	float metallic_tex = dot(triplanar_texture(texture_metallic, uv1_power_normal, uv1_triplanar_pos), metallic_texture_channel);
	METALLIC = metallic_tex * metallic;
	SPECULAR = specular;

	vec4 roughness_texture_channel = vec4(1.0, 0.0, 0.0, 0.0);
	float roughness_tex = dot(triplanar_texture(texture_roughness, uv1_power_normal, uv1_triplanar_pos), roughness_texture_channel);
	ROUGHNESS = roughness_tex * roughness;

	// Normal Map: Enabled
	NORMAL_MAP = triplanar_texture(texture_normal, uv1_power_normal, uv1_triplanar_pos).rgb;
	NORMAL_MAP_DEPTH = normal_scale;

	// Refraction: Enabled (with normal map texture)
	vec3 unpacked_normal = NORMAL_MAP;
	unpacked_normal.xy = unpacked_normal.xy * 2.0 - 1.0;
	unpacked_normal.z = sqrt(max(0.0, 1.0 - dot(unpacked_normal.xy, unpacked_normal.xy)));
	vec3 ref_normal = normalize(mix(
			NORMAL,
			TANGENT * unpacked_normal.x + BINORMAL * unpacked_normal.y + NORMAL * unpacked_normal.z,
			NORMAL_MAP_DEPTH));
	vec2 ref_ofs = SCREEN_UV - ref_normal.xy * dot(triplanar_texture(texture_refraction, uv1_power_normal, uv1_triplanar_pos), refraction_texture_channel) * refraction;

	float ref_amount = 1.0 - albedo.a * albedo_tex.a;

	float refraction_depth_tex = textureLod(depth_texture, ref_ofs, 0.0).r;
	vec4 refraction_view_pos = INV_PROJECTION_MATRIX * vec4(SCREEN_UV * 2.0 - 1.0, refraction_depth_tex, 1.0);
	refraction_view_pos.xyz /= refraction_view_pos.w;

	// If the depth buffer is lower then the model's Z position, use the refracted UV, otherwise use the normal screen UV.
	// At low depth differences, decrease refraction intensity to avoid sudden discontinuities.
	EMISSION += textureLod(screen_texture, mix(SCREEN_UV, ref_ofs, smoothstep(0.0, 1.0, VERTEX.z - refraction_view_pos.z)), ROUGHNESS * 8.0).rgb * ref_amount * EXPOSURE;
	ALBEDO *= 1.0 - ref_amount;
	// Force transparency on the material (required for refraction).
	ALPHA = 1.0;
}
"

[sub_resource type="FastNoiseLite" id="FastNoiseLite_dg77c"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_ycdy4"]
noise = SubResource("FastNoiseLite_dg77c")
seamless = true
as_normal_map = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ycdy4"]
render_priority = 0
shader = SubResource("Shader_dg77c")
shader_parameter/albedo = Color(0.05882353, 0.31764707, 0.45882353, 0.60784316)
shader_parameter/albedo_texture_size = Vector2i(0, 0)
shader_parameter/point_size = 1.0
shader_parameter/roughness = 0.0
shader_parameter/metallic_texture_channel = Vector4(1, 0, 0, 0)
shader_parameter/specular = 0.5
shader_parameter/metallic = 0.0
shader_parameter/texture_refraction = SubResource("NoiseTexture2D_ycdy4")
shader_parameter/refraction = 0.05
shader_parameter/refraction_texture_channel = Vector4(1, 0, 0, 0)
shader_parameter/texture_normal = SubResource("NoiseTexture2D_ycdy4")
shader_parameter/normal_scale = 1.0
shader_parameter/uv1_blend_sharpness = 1.0
shader_parameter/uv1_scale = Vector3(0.05, 0.05, 0.05)
shader_parameter/uv1_offset = Vector3(0, 0, 0)
shader_parameter/uv2_scale = Vector3(1, 1, 1)
shader_parameter/uv2_offset = Vector3(0, 0, 0)

[sub_resource type="BoxMesh" id="BoxMesh_dg77c"]
material = SubResource("ShaderMaterial_ycdy4")

[node name="Main" type="Node3D"]

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("1_ig7tw")
cell_size = Vector3(1, 1, 1)
data = {
"cells": PackedInt32Array(65536, 0, 1310721, 65536, 1, 1310721, 65536, 2, 1310721, 65536, 3, 1310721, 65536, 4, 1310721, 65536, 5, 1310721, 65536, 6, 1310721, 65536, 7, 1310721, 65536, 8, 1310721, 65536, 9, 1310721, 65536, 10, 1310721, 65536, 11, 1310721, 65536, 12, 1310721, 65536, 13, 1310721, 65536, 14, 1310721, 65537, 14, 1310721, 65538, 14, 1310721, 65539, 14, 1310721, 65540, 14, 1310721, 65541, 14, 1310721, 65542, 14, 1310721, 65543, 14, 1310721, 65544, 14, 1310721, 65545, 14, 1310721, 65546, 14, 1310721, 65547, 14, 1310721, 65548, 14, 1310721, 65548, 13, 1310721, 65548, 12, 1310721, 65548, 11, 1310721, 65548, 10, 1310721, 65548, 9, 1310721, 65548, 8, 1310721, 65548, 7, 1310721, 65548, 6, 1310721, 65548, 5, 1310721, 65548, 4, 1310721, 65548, 3, 1310721, 65548, 2, 1310721, 65548, 1, 1310721, 65548, 0, 1310721, 65547, 0, 1310721, 65546, 0, 1310721, 65545, 0, 1310721, 65544, 0, 1310721, 65543, 0, 1310721, 65542, 0, 1310721, 65541, 0, 1310721, 65540, 0, 1310721, 65539, 0, 1310721, 65538, 0, 1310721, 65537, 0, 1310721, 65539, 5, 2, 65541, 5, 2, 65540, 5, 2, 65540, 4, 2, 65542, 8, 2, 65541, 9, 2, 65541, 10, 2, 65539, 11, 2, 65545, 11, 2, 65544, 5, 2, 65544, 3, 2, 65546, 3, 2, 65537, 12, 2, 65538, 12, 2, 65540, 11, 2, 65543, 11, 2, 65544, 7, 2, 65539, 7, 2, 65538, 6, 3, 65539, 9, 3, 65542, 2, 3, 0, 14, 0, 0, 13, 0, 0, 12, 0, 0, 11, 0, 0, 10, 0, 1, 14, 0, 2, 14, 0, 3, 14, 0, 4, 14, 0, 5, 14, 0, 6, 14, 0, 7, 14, 0, 8, 14, 0, 9, 14, 0, 10, 14, 0, 11, 14, 0, 12, 14, 0, 12, 13, 0, 12, 12, 0, 12, 11, 0, 12, 10, 0, 12, 9, 0, 12, 8, 0, 12, 7, 0, 12, 6, 0, 12, 5, 0, 12, 4, 0, 12, 3, 0, 12, 2, 0, 12, 1, 0, 12, 0, 0, 11, 0, 0, 10, 0, 0, 9, 0, 0, 8, 0, 0, 7, 0, 0, 6, 0, 0, 5, 0, 0, 4, 0, 0, 3, 0, 0, 2, 0, 0, 1, 0, 0, 0, 0, 0, 11, 1, 0, 10, 1, 0, 9, 1, 0, 8, 1, 0, 7, 1, 0, 6, 1, 0, 5, 1, 0, 4, 1, 0, 3, 1, 0, 2, 1, 0, 11, 2, 0, 10, 2, 0, 9, 2, 0, 8, 2, 0, 7, 2, 0, 6, 2, 0, 5, 2, 0, 4, 2, 0, 3, 2, 0, 2, 2, 0, 2, 3, 0, 3, 3, 0, 4, 3, 0, 5, 3, 0, 6, 3, 0, 7, 3, 0, 8, 3, 0, 9, 3, 0, 10, 3, 0, 11, 3, 0, 11, 4, 0, 10, 4, 0, 9, 4, 0, 8, 4, 0, 7, 4, 0, 6, 4, 0, 5, 4, 0, 4, 4, 0, 3, 4, 0, 2, 4, 0, 2, 5, 0, 3, 5, 0, 4, 5, 0, 5, 5, 0, 6, 5, 0, 7, 5, 0, 8, 5, 0, 9, 5, 0, 10, 5, 0, 11, 5, 0, 11, 6, 0, 10, 6, 0, 10, 7, 0, 9, 7, 0, 8, 7, 0, 8, 6, 0, 7, 7, 0, 7, 6, 0, 6, 6, 0, 5, 6, 0, 4, 6, 0, 3, 6, 0, 3, 7, 0, 2, 6, 0, 2, 7, 0, 4, 7, 0, 5, 7, 0, 6, 7, 0, 10, 8, 0, 11, 8, 0, 11, 7, 0, 9, 8, 0, 8, 8, 0, 7, 8, 0, 6, 8, 0, 5, 8, 0, 4, 8, 0, 3, 8, 0, 9, 6, 0, 11, 9, 0, 10, 9, 0, 9, 9, 0, 8, 9, 0, 7, 9, 0, 6, 9, 0, 5, 9, 0, 4, 9, 0, 3, 9, 0, 2, 9, 0, 2, 8, 0, 2, 10, 0, 2, 11, 0, 3, 11, 0, 4, 11, 0, 5, 11, 0, 5, 10, 0, 6, 10, 0, 7, 10, 0, 8, 10, 0, 9, 10, 0, 10, 10, 0, 11, 10, 0, 4, 10, 0, 3, 10, 0, 6, 11, 0, 7, 11, 0, 8, 11, 0, 9, 11, 0, 10, 11, 0, 11, 11, 0, 11, 12, 0, 10, 12, 0, 9, 12, 0, 8, 12, 0, 4, 12, 0, 3, 12, 0, 2, 12, 0, 5, 12, 0, 6, 12, 0, 7, 12, 0, 9, 13, 0, 10, 13, 0, 11, 13, 0, 8, 13, 0, 7, 13, 0, 6, 13, 0, 5, 13, 0, 4, 13, 0, 3, 13, 0, 2, 13, 0, 1, 13, 0, 1, 12, 0, 1, 11, 0, 1, 10, 0, 1, 9, 0, 1, 8, 0, 1, 7, 0, 1, 6, 0, 1, 5, 0, 1, 4, 0, 1, 3, 0, 1, 2, 0, 1, 1, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, 0, 0, 6, 0, 0, 7, 0, 0, 8, 0, 0, 9, 0, 65535, 0, 0, 65535, 1, 0, 65535, 2, 0, 65534, 3, 0, 65534, 4, 0, 65534, 6, 0, 65534, 7, 0, 65533, 8, 0, 65533, 9, 0, 65533, 10, 0, 65533, 11, 0, 65534, 12, 0, 65534, 13, 0, 65535, 14, 0, 65535, 13, 0, 65535, 12, 0, 65535, 11, 0, 65535, 10, 0, 65535, 7, 0, 65535, 6, 0, 65535, 4, 0, 65535, 3, 0, 65534, 0, 0, 65533, 0, 0, 65533, 1, 0, 65533, 3, 0, 65533, 4, 0, 65533, 5, 0, 65533, 6, 0, 65533, 7, 0, 65533, 12, 0, 65533, 13, 0, 65534, 10, 0, 65534, 9, 0, 65533, 2, 0, 65534, 1, 0, 65534, 2, 0, 65534, 11, 0, 65534, 14, 0, 65533, 14, 0, 65533, 15, 0, 65534, 15, 0, 65535, 15, 0, 0, 15, 0, 1, 15, 0, 2, 15, 0, 3, 15, 0, 4, 15, 0, 5, 15, 0, 6, 15, 0, 7, 15, 0, 8, 15, 0, 9, 15, 0, 10, 15, 0, 11, 15, 0, 12, 15, 0, 13, 15, 0, 14, 15, 0, 16, 6, 0, 16, 5, 0, 17, 8, 0, 17, 6, 0, 18, 2, 0, 18, 0, 0, 18, 65535, 0, 17, 0, 0, 17, 2, 0, 17, 3, 0, 16, 4, 0, 17, 4, 0, 17, 5, 0, 17, 7, 0, 16, 3, 0, 16, 1, 0, 16, 2, 0, 13, 0, 0, 14, 0, 0, 15, 0, 0, 17, 1, 0, 15, 1, 0, 14, 1, 0, 13, 1, 0, 13, 2, 0, 13, 3, 0, 13, 4, 0, 14, 4, 0, 14, 3, 0, 14, 2, 0, 13, 5, 0, 13, 9, 0, 13, 7, 0, 13, 10, 0, 13, 8, 0, 14, 6, 0, 14, 5, 0, 15, 6, 0, 15, 3, 0, 14, 65535, 0, 15, 5, 0, 15, 4, 0, 13, 6, 0, 13, 12, 0, 13, 13, 0, 13, 14, 0, 13, 11, 0, 15, 15, 0, 16, 15, 0, 17, 15, 0, 17, 14, 0, 18, 14, 0, 18, 13, 0, 18, 12, 0, 18, 11, 0, 18, 10, 0, 18, 9, 0, 18, 8, 0, 18, 1, 0, 18, 3, 0, 18, 4, 0, 18, 5, 0, 19, 5, 0, 19, 6, 0, 19, 7, 0, 19, 8, 0, 19, 9, 0, 19, 10, 0, 19, 11, 0, 19, 12, 0, 19, 13, 0, 19, 14, 0, 19, 15, 0, 18, 15, 0, 18, 16, 0, 18, 6, 0, 18, 7, 0, 17, 9, 0, 17, 10, 0, 17, 13, 0, 17, 12, 0, 17, 11, 0, 15, 2, 0, 19, 2, 0, 19, 3, 0, 19, 4, 0, 19, 1, 0, 19, 0, 0, 19, 65535, 0, 19, 65534, 0, 18, 65534, 0, 17, 65534, 0, 16, 65534, 0, 15, 65534, 0, 14, 65534, 0, 13, 65534, 0, 12, 65534, 0, 11, 65533, 0, 10, 65533, 0, 9, 65533, 0, 8, 65533, 0, 7, 65533, 0, 6, 65533, 0, 5, 65533, 0, 4, 65533, 0, 3, 65533, 0, 3, 65534, 0, 2, 65534, 0, 1, 65534, 0, 0, 65534, 0, 65535, 65534, 0, 65534, 65534, 0, 65533, 65534, 0, 65533, 65535, 0, 16, 0, 0, 15, 65535, 0, 16, 65535, 0, 17, 65535, 0, 12, 65535, 0, 11, 65535, 0, 10, 65535, 0, 9, 65535, 0, 8, 65535, 0, 7, 65535, 0, 6, 65535, 0, 5, 65535, 0, 4, 65535, 0, 3, 65535, 0, 2, 65535, 0, 1, 65535, 0, 65534, 65535, 0, 65535, 65535, 0, 0, 65535, 0, 13, 65535, 0, 5, 65534, 0, 6, 65534, 0, 7, 65534, 0, 8, 65534, 0, 9, 65534, 0, 10, 65534, 0, 11, 65534, 0, 4, 65534, 0, 5, 65532, 0, 5, 65531, 0, 6, 65531, 0, 7, 65531, 0, 8, 65531, 0, 9, 65531, 0, 10, 65531, 0, 11, 65531, 0, 12, 65531, 0, 13, 65531, 0, 14, 65531, 0, 15, 65532, 0, 16, 65532, 0, 17, 65532, 0, 18, 65532, 0, 19, 65532, 0, 19, 65533, 0, 19, 65531, 0, 19, 65530, 0, 18, 65530, 0, 19, 65529, 0, 19, 65528, 0, 19, 65527, 0, 18, 65527, 0, 17, 65527, 0, 16, 65527, 0, 15, 65527, 0, 14, 65527, 0, 13, 65527, 0, 12, 65527, 0, 12, 65528, 0, 12, 65529, 0, 12, 65530, 0, 11, 65530, 0, 10, 65530, 0, 10, 65529, 0, 9, 65529, 0, 9, 65530, 0, 10, 65528, 0, 11, 65528, 0, 11, 65527, 0, 10, 65527, 0, 9, 65527, 0, 9, 65528, 0, 11, 65529, 0, 13, 65530, 0, 12, 65532, 0, 13, 65532, 0, 14, 65532, 0, 15, 65531, 0, 16, 65530, 0, 15, 65530, 0, 13, 65533, 0, 14, 65533, 0, 17, 65531, 0, 16, 65531, 0, 15, 65533, 0, 16, 65533, 0, 17, 65533, 0, 18, 65533, 0, 9, 65532, 0, 6, 65532, 0, 4, 65532, 0, 7, 65532, 0, 8, 65532, 0, 12, 65533, 0, 11, 65532, 0, 10, 65532, 0, 14, 65530, 0, 15, 65529, 0, 15, 65528, 0, 14, 65528, 0, 13, 65529, 0, 14, 65529, 0, 16, 65529, 0, 17, 65529, 0, 16, 65528, 0, 7, 65528, 0, 8, 65528, 0, 18, 65529, 0, 17, 65530, 0, 18, 65531, 0, 18, 65528, 0, 17, 65528, 0, 13, 65528, 0, 8, 65529, 0, 8, 65530, 0, 7, 65530, 0, 6, 65530, 0, 7, 65529, 0, 6, 65529, 0, 5, 65530, 0, 4, 65531, 0, 3, 65532, 0, 2, 65533, 0, 0, 65533, 0, 1, 65533, 0, 2, 65532, 0, 1, 65532, 0, 3, 65531, 0, 2, 65531, 0, 4, 65530, 0, 3, 65530, 0, 5, 65529, 0, 4, 65529, 0, 6, 65528, 0, 5, 65528, 0, 8, 65527, 0, 7, 65527, 0, 8, 65526, 0, 9, 65526, 0, 10, 65526, 0, 11, 65526, 0, 12, 65526, 0, 13, 65526, 0, 14, 65526, 0, 15, 65526, 0, 16, 65526, 0, 17, 65526, 0, 18, 65526, 0, 19, 65526, 0, 6, 65527, 0, 7, 65526, 0, 8, 65525, 0, 9, 65525, 0, 10, 65525, 0, 11, 65525, 0, 12, 65525, 0, 13, 65525, 0, 14, 65525, 0, 15, 65525, 0, 16, 65525, 0, 17, 65525, 0, 18, 65525, 0, 19, 65525, 0, 0, 16, 0, 1, 17, 0, 2, 18, 0, 3, 19, 0, 5, 20, 0, 4, 20, 0, 5, 21, 0, 6, 22, 0, 7, 23, 0, 8, 24, 0, 6, 21, 0, 6, 20, 0, 6, 19, 0, 6, 18, 0, 6, 17, 0, 5, 17, 0, 5, 18, 0, 5, 19, 0, 5, 16, 0, 4, 16, 0, 3, 16, 0, 2, 16, 0, 1, 16, 0, 3, 17, 0, 3, 18, 0, 4, 18, 0, 4, 19, 0, 2, 17, 0, 4, 17, 0, 9, 24, 0, 10, 24, 0, 11, 24, 0, 12, 24, 0, 13, 24, 0, 14, 24, 0, 15, 24, 0, 16, 24, 0, 17, 24, 0, 17, 23, 0, 18, 24, 0, 18, 23, 0, 19, 24, 0, 19, 23, 0, 19, 22, 0, 19, 21, 0, 19, 20, 0, 19, 19, 0, 19, 18, 0, 19, 17, 0, 19, 16, 0, 18, 17, 0, 18, 18, 0, 18, 19, 0, 18, 20, 0, 17, 21, 0, 17, 20, 0, 16, 19, 0, 15, 23, 0, 14, 22, 0, 13, 22, 0, 12, 21, 0, 9, 20, 0, 8, 19, 0, 7, 19, 0, 9, 19, 0, 10, 20, 0, 11, 20, 0, 10, 19, 0, 12, 20, 0, 13, 21, 0, 14, 21, 0, 13, 20, 0, 12, 19, 0, 15, 22, 0, 16, 23, 0, 17, 22, 0, 16, 22, 0, 15, 21, 0, 16, 21, 0, 14, 19, 0, 15, 20, 0, 16, 20, 0, 17, 19, 0, 16, 18, 0, 18, 21, 0, 16, 17, 0, 16, 16, 0, 13, 16, 0, 13, 17, 0, 14, 17, 0, 15, 17, 0, 12, 16, 0, 14, 16, 0, 9, 16, 0, 10, 16, 0, 8, 16, 0, 10, 17, 0, 7, 16, 0, 6, 16, 0, 7, 17, 0, 8, 17, 0, 8, 18, 0, 7, 18, 0, 9, 18, 0, 9, 17, 0, 10, 18, 0, 11, 18, 0, 12, 18, 0, 13, 18, 0, 13, 19, 0, 15, 19, 0, 15, 18, 0, 14, 18, 0, 11, 17, 0, 11, 16, 0, 12, 17, 0, 9, 21, 0, 8, 21, 0, 7, 21, 0, 7, 20, 0, 8, 20, 0, 7, 22, 0, 8, 23, 0, 9, 23, 0, 10, 23, 0, 11, 23, 0, 12, 23, 0, 13, 23, 0, 14, 23, 0, 8, 22, 0, 9, 22, 0, 10, 22, 0, 11, 22, 0, 10, 21, 0, 11, 21, 0, 11, 19, 0, 12, 22, 0, 14, 20, 0, 15, 16, 0, 17, 16, 0, 17, 17, 0, 17, 18, 0, 18, 22, 0, 65533, 16, 0, 65534, 16, 0, 65535, 16, 0, 0, 17, 0, 1, 18, 0, 2, 19, 0, 3, 20, 0, 4, 21, 0, 5, 22, 0, 6, 23, 0, 7, 24, 0, 8, 25, 0, 9, 25, 0, 10, 25, 0, 11, 25, 0, 12, 25, 0, 13, 25, 0, 14, 25, 0, 15, 25, 0, 16, 25, 0, 17, 25, 0, 18, 25, 0, 19, 25, 0, 65535, 17, 0, 0, 18, 0, 1, 19, 0, 2, 20, 0, 3, 21, 0, 4, 22, 0, 5, 23, 0, 7, 25, 0, 6, 24, 0, 65535, 65533, 0, 0, 65532, 0, 1, 65531, 0, 3, 65529, 0, 2, 65530, 0, 4, 65528, 0, 5, 65527, 0, 6, 65526, 0, 7, 65525, 0, 19, 26, 0, 18, 26, 0, 17, 26, 0, 16, 26, 0, 15, 26, 0, 16, 27, 0, 17, 27, 0, 18, 27, 0, 19, 27, 0, 19, 65524, 0, 18, 65524, 0, 17, 65524, 0, 16, 65524, 0, 19, 65523, 0, 18, 65523, 0, 17, 65523, 0, 16, 65523, 0, 15, 65524, 0, 65535, 5, 0, 65534, 5, 0, 65535, 8, 0, 65534, 8, 0, 65535, 9, 0, 16, 14, 0, 15, 14, 0, 14, 14, 0)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Player" parent="." instance=ExtResource("2_0xm2m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 2, 1.5)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-4.371139e-08, 0.86602545, -0.49999997, 0, 0.49999997, 0.86602545, 1, 3.7855173e-08, -2.1855692e-08, -1, 25, 7.5)
light_energy = 0.8
shadow_enabled = true

[node name="Enemy" parent="." groups=["enemies"] instance=ExtResource("3_h2yge")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 2, 12.5)

[node name="HUD" parent="." instance=ExtResource("4_1bvp3")]

[node name="Portal" parent="." instance=ExtResource("5_lquwl")]
process_mode = 4
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 1, 13.5)
visible = false

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(-4.371139e-08, 0.86602545, -0.49999997, 0, 0.49999997, 0.86602545, 1, 3.7855173e-08, -2.1855692e-08, -1, 12, 7.5)
fov = 60.0
script = ExtResource("6_7mycd")

[node name="Environment" type="Node3D" parent="."]

[node name="Grasss" type="Node3D" parent="Environment"]

[node name="Grass" parent="Environment/Grasss" instance=ExtResource("7_kek77")]
transform = Transform3D(0.7430514, 0, 0.66923434, 0, 1, 0, -0.66923434, 0, 0.7430514, -2.2698612, 0, 3.3060389)

[node name="Grass2" parent="Environment/Grasss" instance=ExtResource("7_kek77")]
transform = Transform3D(-0.6474152, 0, 0.7621375, 0, 1, 0, -0.7621375, 0, -0.6474152, -0.80798817, 0, -0.007845402)

[node name="Grass5" parent="Environment/Grasss" instance=ExtResource("7_kek77")]
transform = Transform3D(-0.6474152, 0, 0.7621375, 0, 1, 0, -0.7621375, 0, -0.6474152, 5.1982007, 0, 16.240894)

[node name="Grass3" parent="Environment/Grasss" instance=ExtResource("7_kek77")]
transform = Transform3D(0.6579694, 0, -1.003532, 0, 1.1999999, 0, 1.003532, 0, 0.6579694, -0.7591194, -0.2, 6.7948585)

[node name="Grass4" parent="Environment/Grasss" instance=ExtResource("7_kek77")]
transform = Transform3D(0.6166924, 0, 0.7872042, 0, 1, 0, -0.7872042, 0, 0.6166924, -1.0006709, 0, 14.200497)

[node name="Rocks" type="Node3D" parent="Environment"]

[node name="Rock" parent="Environment/Rocks" instance=ExtResource("8_4c57u")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 11.063518, 1, 16.034365)

[node name="Rock2" parent="Environment/Rocks" instance=ExtResource("8_4c57u")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.78754, 1, 4.3071795)

[node name="Rock3" parent="Environment/Rocks" instance=ExtResource("8_4c57u")]
transform = Transform3D(1.6460745, 0, 1.1359748, 0, 2, 0, -1.1359748, 0, 1.6460745, 6.5145283, 1, -2.2196898)

[node name="Rock4" parent="Environment/Rocks" instance=ExtResource("8_4c57u")]
transform = Transform3D(0.9422096, 0, -0.33502406, 0, 1, 0, 0.33502406, 0, 0.9422096, -0.8034382, 1, 3.5261192)

[node name="Rock5" parent="Environment/Rocks" instance=ExtResource("8_4c57u")]
transform = Transform3D(-0.25539738, 0, -1.2746655, 0, 1.3, 0, 1.2746655, 0, -0.25539738, -1.6936579, 1, 12.439884)

[node name="Trees" type="Node3D" parent="Environment"]

[node name="Tree" parent="Environment/Trees" instance=ExtResource("9_efxa6")]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 14.335505, 0, 0)

[node name="Tree2" parent="Environment/Trees" instance=ExtResource("9_efxa6")]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 8.860329, 0, 17.39379)

[node name="Fruit" parent="Environment/Trees" instance=ExtResource("10_efxa6")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 14.745314, 1.1238247, 1.7039952)

[node name="Fruit2" parent="Environment/Trees" instance=ExtResource("10_efxa6")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 13.411412, 1.1238247, -1.0798655)

[node name="Fruit3" parent="Environment/Trees" instance=ExtResource("10_efxa6")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 7.628601, 1.1238247, 16.046835)

[node name="Fruit4" parent="Environment/Trees" instance=ExtResource("10_efxa6")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 8.487508, 1.1238247, 18.688046)

[node name="Path3D" type="Path3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
curve = SubResource("Curve3D_dg77c")

[node name="PathFollow3D" type="PathFollow3D" parent="Environment/Path3D"]
transform = Transform3D(0.9999964, 0, 0, 0, 1.0000038, 0, 0, 0, 0.99999994, 2.6356418, 0, -2.946487)
rotation_mode = 0
script = ExtResource("11_dg77c")
speed = 1.0

[node name="GermanShepherd" parent="Environment/Path3D/PathFollow3D" instance=ExtResource("11_efxa6")]
transform = Transform3D(-0.9882425, 7.450581e-09, -0.15290514, 0.011095348, 0.99736387, -0.07171039, 0.15250209, -0.07256376, -0.98563683, -0.04581499, 0, 2.123454)

[node name="Lac" type="Node3D" parent="Environment"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/Lac"]
transform = Transform3D(3, 0, 0, 0, 1, 0, 0, 0, 7, 15.5, 0.5, 10.5)
mesh = SubResource("BoxMesh_dg77c")

[node name="Fisherman" parent="Environment" instance=ExtResource("13_ycdy4")]
transform = Transform3D(-0.007, 0, -6.119594e-10, 0, 0.007, 0, 6.119594e-10, 0, -0.007, 15, 1, 15)
script = ExtResource("14_w48qg")
